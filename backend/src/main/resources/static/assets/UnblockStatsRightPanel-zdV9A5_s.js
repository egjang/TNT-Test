import{u as g,r as i,j as e}from"./index-BB_3LKiY.js";function p(){const{meetingId:n}=g(),[s,o]=i.useState(null),[a,l]=i.useState(!1);i.useEffect(()=>{n?d():o(null)},[n]);const d=async()=>{if(n){l(!0);try{const r=await(await fetch(`/api/v1/credit/meetings/${n}/stats`)).json();r.success&&o(r)}catch(t){console.error(t)}finally{l(!1)}}},c=t=>`₩${(t||0).toLocaleString()}`;if(!n)return e.jsx("div",{className:"placeholder",children:"회의를 선택하면 통계가 표시됩니다."});if(a)return e.jsx("div",{className:"placeholder",children:"통계 불러오는 중..."});if(!s)return e.jsx("div",{className:"placeholder",children:"데이터가 없습니다."});const f=t=>{switch(t){case"APPROVED_FINAL":return"#059669";case"APPROVED_1ST":return"#3b82f6";case"REJECTED":return"#ef4444";case"HOLD":return"#d97706";default:return"#6b7280"}},h=t=>{switch(t){case"APPROVED_FINAL":return"최종승인";case"APPROVED_1ST":return"1차승인";case"REJECTED":return"반려됨";case"HOLD":return"보류";case"SUBMITTED":return"요청됨";case"DRAFT":return"작성중";default:return t}};return e.jsxs("div",{style:{height:"100%",overflowY:"auto",padding:16},children:[e.jsx("h3",{style:{fontSize:16,fontWeight:700,marginTop:0,marginBottom:16,color:"#111827"},children:"매출통제 해제 현황"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:24},children:[e.jsxs("div",{style:{background:"#f8fafc",padding:"12px",borderRadius:8,border:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:12,color:"#64748b",marginBottom:4},children:"총 요청 건수"}),e.jsxs("div",{style:{fontSize:20,fontWeight:700,color:"#0f172a"},children:[s.totalCount,"건"]})]}),e.jsxs("div",{style:{background:"#f8fafc",padding:"12px",borderRadius:8,border:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:12,color:"#64748b",marginBottom:4},children:"총 대상 채권액"}),e.jsx("div",{style:{fontSize:16,fontWeight:700,color:"#0f172a",wordBreak:"break-all"},children:c(s.totalAmount)})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("h4",{style:{fontSize:13,fontWeight:600,color:"#475569",marginBottom:12},children:"진행 상태별 현황"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[Object.entries(s.statusBreakdown).map(([t,r])=>{const u=r/s.totalCount*100;return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginBottom:2},children:[e.jsx("span",{style:{color:"#334155"},children:h(t)}),e.jsxs("span",{style:{fontWeight:600,color:"#0f172a"},children:[r,"건"]})]}),e.jsx("div",{style:{height:6,background:"#f1f5f9",borderRadius:3,overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${u}%`,background:f(t),borderRadius:3}})})]},t)}),Object.keys(s.statusBreakdown).length===0&&e.jsx("div",{style:{fontSize:12,color:"#9ca3af",textAlign:"center",padding:8},children:"데이터 없음"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:13,fontWeight:600,color:"#475569",marginBottom:12},children:"주요 요청자 Top 5"}),e.jsxs("div",{style:{background:"white",border:"1px solid #e2e8f0",borderRadius:8,overflow:"hidden"},children:[s.topRequesters.map((t,r)=>e.jsxs("div",{style:{padding:"8px 12px",borderBottom:r<s.topRequesters.length-1?"1px solid #f1f5f9":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:18,height:18,borderRadius:"50%",background:"#f1f5f9",fontSize:10,fontWeight:600,color:"#64748b"},children:r+1}),e.jsx("span",{style:{fontSize:13,color:"#334155"},children:t.emp_name})]}),e.jsxs("span",{style:{fontSize:13,fontWeight:600,color:"#0f172a"},children:[t.cnt,"건"]})]},r)),s.topRequesters.length===0&&e.jsx("div",{style:{fontSize:12,color:"#9ca3af",textAlign:"center",padding:12},children:"데이터 없음"})]})]})]})}export{p as UnblockStatsRightPanel};
