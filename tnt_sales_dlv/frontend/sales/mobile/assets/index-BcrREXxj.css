:root{--bg: #f8fafc;--panel: #ffffff;--panel-2: #f1f5f9;--sheet-bg: #eff6ff;--label-muted: #94a3b8;--text: #0f172a;--muted: #64748b;--accent: #93c5fd;--sum-accent: #1d4ed8;--resizer: #e2e8f0;--header: #ffffff;--border: #e2e8f0;--input-bg: #ffffff;--table-header: #f1f5f9;--on-accent: #0f172a;--hover-bg: rgba(15,23,42,.06);--cta: #4b5563;--on-cta: #ffffff;--btn-bg: #e2e8f0;--btn-border: #cbd5e1;--btn-text: #0f172a;--btn-bg-hover: #cbd5e1;--btn-border-hover: #94a3b8}[data-theme=dark]{--bg: #0f172a;--panel: #111827;--panel-2: #0b1220;--sheet-bg: #0d1526;--label-muted: #9ca3af;--text: #e5e7eb;--muted: #9ca3af;--accent: #3b82f6;--sum-accent: #1d4ed8;--resizer: #1f2937;--header: #0b1220;--border: #1f2937;--input-bg: #0b1324;--table-header: #0d1526;--on-accent: #ffffff;--hover-bg: rgba(255,255,255,.06);--cta: #9ca3af;--on-cta: #0b1220;--btn-bg: #374151;--btn-border: #4b5563;--btn-text: #e5e7eb;--btn-bg-hover: #4b5563;--btn-border-hover: #6b7280}*{box-sizing:border-box}html,body,#root{height:100%;margin:0}body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}input,textarea,select,button{font:inherit}.table-container{scrollbar-width:thin}.table-container::-webkit-scrollbar{height:8px}.table-container::-webkit-scrollbar-track{background:transparent}.table-container::-webkit-scrollbar-thumb{background:var(--border);border-radius:8px}.app-root{height:100%;display:flex;flex-direction:column}.resizable-container{position:relative;display:flex;height:100vh;width:100%;overflow:hidden}.resizable-container .col{height:100%;overflow:auto}.resizable-container .left{background:var(--panel);border-right:1px solid var(--border)}.resizable-container .center{background:var(--panel-2);flex:1 1 auto;min-width:100px}.resizable-container .right{background:var(--panel);border-left:1px solid var(--border)}.resizable-container .resizer{flex:0 0 3px;width:3px;cursor:col-resize;background:var(--resizer);opacity:.8;z-index:2}.resizable-container .resizer:hover{opacity:1}.pane{height:100%;display:flex;flex-direction:column}.pane-header{height:44px;min-height:44px;flex:0 0 44px;display:flex;align-items:center;padding:0 12px;background:var(--header);border-bottom:1px solid var(--border);font-weight:600}.pane.center{font-size:.95em}.pane.center .page-title h2{font-size:18px}.pane.center .table{font-size:13px}.pane.center .field input[type=text],.pane.center .field textarea,.pane.center .field select,.pane.center .subject-input,.pane.right .field input[type=text],.pane.right .field textarea,.pane.right .field select,.pane.right .subject-input{font-size:12px}.search-input{height:30px!important;font-size:12px;border:1px solid var(--border);border-radius:12px;padding:4px 12px!important;line-height:20px}.pane.right{overflow:hidden}.pane.right .pane-header,.pane.right h1,.pane.right h2,.pane.right h3,.pane.right p,.pane.right li,.pane.right .badge,.pane.right .card,.pane.right .muted,.pane.right .placeholder,.pane.right .table th,.pane.right .table td{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pane.right,.pane.right *{min-width:0}.menu{padding:8px}.menu ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px}.menu button{width:100%;text-align:left;padding:6px 8px;background:transparent;border:none;border-radius:4px;color:var(--text);cursor:pointer;font-size:.9em;display:inline-flex;align-items:center;gap:8px}.menu button span{flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu button:hover{background:var(--hover-bg)}.menu button.active{font-weight:600}.menu .submenu{margin:6px 0 0 8px;display:flex;flex-direction:column;gap:6px}.menu .submenu button{font-size:.85em;padding:4px 8px}.main-view{padding:3px}.main-view h1{margin:0 0 8px;font-size:20px}.empty-state{margin-top:12px;color:var(--muted);padding:12px;border:1px dashed var(--border);border-radius:8px}.placeholder{padding:12px;color:var(--muted)}.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;background:var(--accent);border:1px solid var(--accent);color:#fff;border-radius:8px;cursor:pointer}.btn:hover{filter:brightness(1.05)}.muted{color:var(--muted)}.mb-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap;text-align:center;line-height:1;gap:0;min-height:44px;padding:10px 12px;border-radius:12px;border:1px solid transparent;background:var(--mb-color, var(--accent));color:var(--on-accent);cursor:pointer}.mb-btn--3d{--_c: var(--mb-color, var(--accent));border-color:color-mix(in oklab,var(--_c),black 12%);background-image:linear-gradient(to bottom,#ffffff1a,#0000000f);box-shadow:0 6px color-mix(in oklab,var(--_c),black 40%),0 10px 20px #00000026;transform:translateY(0);transition:transform .05s ease,box-shadow .05s ease,filter .2s ease}.mb-btn--3d:hover{filter:brightness(1.03)}.mb-btn--3d:active{transform:translateY(2px);box-shadow:0 4px color-mix(in oklab,var(--_c),black 40%),0 6px 12px #00000026}.mb-btn--sm{font-size:10px;min-width:76px;padding:8px 10px}.mb-btn--order{--mb-color: var(--order-color, var(--sum-accent))}.count-text{font-size:12px}.count-row{display:flex;justify-content:flex-end;align-items:center}.row-parent{background:#3b82f61a}.table-container{margin-top:12px;border:1px solid var(--border);border-radius:8px;overflow:auto;max-height:60vh}.table{width:max-content;min-width:100%;border-collapse:collapse;font-size:13px}.table th,.table td{border-bottom:1px solid var(--border);padding:6px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table thead th{position:sticky;top:0;background:var(--table-header);text-align:left;z-index:2}.table tfoot{position:sticky;bottom:0;z-index:3}.table tfoot tr td,[data-theme=light] .table tfoot tr.sum-row-apply td,[data-theme=light] .table tfoot tr.sum-row-current td{background:color-mix(in oklab,var(--table-header),black 12%)}.table tfoot tr.sum-row-current td{border-top:2px solid var(--accent)}.table tfoot tr.sum-row-apply td{border-top:0}[data-theme=dark] .table tfoot tr td{background:color-mix(in oklab,var(--table-header),white 8%)}.table tfoot tr.sum-row td{border-top:2px solid var(--accent)}.sum-head{font-weight:700;color:var(--sum-accent)}.sum-cell>div:first-child{font-weight:700;color:var(--sum-accent)}.sum-cell .muted{color:var(--sum-accent);font-weight:700}.stage-badge{display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:12px;height:12px;border-radius:50%!important;padding:0!important;overflow:hidden;border:1px solid var(--accent);color:var(--accent);background:var(--panel-2);font-size:8px;line-height:1;vertical-align:middle;text-align:center}[data-theme=dark] .stage-badge{background:color-mix(in oklab,var(--panel-2),white 4%)}.table tbody tr{transition:background-color .12s ease,color .12s ease;cursor:pointer}.table tbody tr:hover{background:var(--accent);color:var(--on-accent)}.table tbody tr:hover td{color:var(--on-accent)}.table tbody tr.selected{background:#3b82f62e;border-left:3px solid var(--accent)}[data-theme=dark] .table tbody tr.selected{background:#3b82f647;border-left:3px solid var(--accent)}.inv-row td{color:#2563eb}[data-theme=dark] .inv-row td{color:#60a5fa}.transactions tbody tr.group-start td{border-top:1px solid var(--warn)}.transactions tbody tr.same-invoice td.col-invno,.transactions tbody tr.same-invoice td.col-invdate,.transactions tbody tr.no-bottom td{border-bottom-color:transparent}.transactions tbody tr.sep-row td{padding:0;border:0;border-top:1px solid var(--warn)}.context-menu{position:fixed;z-index:9999;background:var(--panel);border:1px solid var(--border);border-radius:8px;box-shadow:0 10px 30px #00000059;padding:6px}.context-item{display:block;width:140px;text-align:left;padding:8px 10px;background:transparent;border:1px solid transparent;border-radius:6px;color:var(--text);cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.context-item:hover{background:var(--hover-bg);border-color:var(--accent)}.error{margin-top:10px;color:#fca5a5}.progress{width:100%;height:10px;background:var(--panel-2);border:1px solid var(--border);border-radius:6px;overflow:hidden}.progress-bar{height:100%;background:var(--accent);width:0%;transition:width .2s ease}.tabs{display:flex;gap:8px;border-bottom:1px solid var(--border)}.tab{padding:4px 10px;background:transparent;color:var(--text);border:1px solid var(--border);border-bottom:none;border-radius:8px 8px 0 0;cursor:pointer}.tab.active{background:var(--panel-2);border-color:var(--accent)}.controls{display:inline-flex;align-items:center;gap:8px;flex-wrap:wrap}body,.btn,.icon-button,.btn-plain{-webkit-tap-highlight-color:transparent}@media (max-width: 480px){body{font-size:14px}.btn{min-height:44px;padding:12px;font-size:14px;border-radius:12px;white-space:nowrap;justify-content:center;text-align:center;gap:0}.btn-3d{box-shadow:0 8px color-mix(in oklab,var(--_c),black 35%),0 12px 22px #00000026}.btn-card{border-radius:12px}.btn.btn-sm{font-size:10px;padding:8px 10px;min-width:72px}.icon-button,.btn-icon{width:44px;height:44px}.icon{width:22px;height:22px}.icon-lg{width:28px;height:28px}.search-input,.subject-input,input[type=text],input[type=number],input[type=date],select,textarea{min-height:44px!important;font-size:12px!important;padding:10px 12px!important;border-radius:12px!important}body{-webkit-text-size-adjust:100%}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.table{font-size:13px}.table th,.table td{padding:10px 8px}.table-container{border-radius:12px}.page-title h2{font-size:16px}.page-title .controls{gap:10px}.context-menu{border-radius:12px;padding:10px}.muted{font-size:12px}.count-text{font-size:11px}.order-form .field label,.order-form .subject-input{font-size:11px!important}}.c360-tabs .tab{font-size:12px;font-weight:400}.c360-tabs .tab.active{font-weight:700}.page-title{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:0 10px 30px #00000014;margin-bottom:12px;min-height:58px}.page-title h2{margin:0;font-size:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.meta{display:flex;gap:8px;color:var(--muted);font-size:12px}.badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:var(--panel-2);border:1px solid var(--border);font-size:12px;color:var(--muted)}.card{background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:0 10px 30px #00000040;padding:10px;margin-top:8px}.activity-form-card{min-height:240px}.card:has(.form-grid),.card:has(.field){background:var(--panel-2)}.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}.field{display:flex;flex-direction:column;gap:6px}.inline-field{display:grid;grid-template-columns:140px minmax(0,1fr);column-gap:8px;align-items:center}.inline-field label{margin:0}.inline-field input,.inline-field select,.inline-field textarea{width:100%}.inline-four{display:grid;grid-template-columns:140px minmax(0,1fr) 140px minmax(0,1fr);column-gap:8px;align-items:center}.inline-four label{margin:0}.field label,.inline-field label,label .muted{font-size:12px;color:var(--muted)}.field input[type=text],.field input[type=number],.field input[type=date],.field input[type=time],.field input[type=datetime-local],.field textarea,.field select{display:block;width:100%;padding:12px 14px;background:var(--input-bg);color:var(--text);border:1px solid var(--border);border-radius:12px;outline:none;transition:border-color .2s,box-shadow .2s;font-size:12px}.field input[type=text],.field input[type=number],.field input[type=date],.field input[type=time],.field input[type=datetime-local],.field select{padding:8px 12px}.field textarea{min-height:120px;resize:vertical}.field input:focus,.field textarea:focus,.field select:focus{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb40}.row-2{grid-column:span 2}.controls{display:flex;gap:10px;justify-content:flex-end;margin-top:16px}.cal-events{display:flex;flex-direction:column;gap:4px}.cal-pill{display:inline-flex;align-items:center;gap:6px;padding:2px 6px;border-radius:6px;background:#3b82f626;border:1px solid var(--accent);color:var(--text);font-size:12px;min-width:0}.cal-pill .time{color:var(--muted)}.cal-pill .subj{flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-pill.status-scheduled{background:#3b82f626;border-color:var(--accent)}.cal-pill.status-completed{background:#10b98126;border-color:#10b981}.cal-pill.status-canceled{background:#ef444426;border-color:#ef4444}.cal-pill.status-no_show{background:#f59e0b26;border-color:#f59e0b}.card input,.card textarea,.card select{background:var(--input-bg);color:var(--text)}input[readonly],input:disabled,select:disabled,textarea[readonly],textarea:disabled,.subject-input[readonly],.subject-input:disabled{background:var(--panel-2)!important;color:var(--muted);border-color:var(--border);cursor:not-allowed}.card .field.row-2 input[type=text]{background:var(--input-bg);border:1px solid var(--border);border-radius:12px}.btn{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:var(--btn-bg);border:1px solid var(--btn-border);color:var(--btn-text);border-radius:6px;cursor:pointer;font-size:.9em}.btn:hover{background:var(--btn-bg-hover);border-color:var(--btn-border-hover)}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-icon{width:32px;height:32px;padding:0;display:inline-flex;align-items:center;justify-content:center}.icon{width:16px;height:16px}.icon-lg{width:24px;height:24px}.icon-button{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;border:none;padding:0}.icon-button:focus-visible{outline:none;box-shadow:0 0 0 3px #93c5fd73;border-radius:999px}.icon-button[aria-disabled=true]{opacity:.5;pointer-events:none}.table .icon-button:focus-visible{box-shadow:none}[data-theme=dark] .icon-button .icon{background:var(--panel);border:1px solid var(--panel);border-radius:4px}.btn-plain{background:transparent;border:none;color:var(--btn-text);cursor:pointer}.btn-plain:hover{opacity:.8}.btn-plain:focus-visible{outline:none;box-shadow:0 0 0 3px #93c5fd73;border-radius:999px}.btn-ghost{background:transparent;border:1px solid var(--btn-border);color:var(--btn-text)}.btn-ghost:hover{background:var(--btn-bg-hover)}.assign-input{height:28px;padding:4px 8px;background:var(--input-bg);color:var(--text);border:1px solid var(--border);border-radius:8px;outline:none}.assign-input:focus{border-color:#cbd5e1;box-shadow:0 0 0 2px #94a3b840}.btn-accent{background:var(--accent);border-color:var(--accent);color:var(--on-accent)}.btn-accent:hover{filter:brightness(1.05)}.btn-3d{--_c: var(--btn-3d-color, var(--accent));--_text: var(--btn-3d-text, var(--on-accent));--_border: color-mix(in oklab, var(--_c), black 12%);--_shadow: color-mix(in oklab, var(--_c), black 40%);background-color:var(--_c);color:var(--_text);border-color:var(--_border);background-image:linear-gradient(to bottom,#ffffff1a,#0000000f);box-shadow:0 6px 0 var(--_shadow),0 10px 20px #00000026;transform:translateY(0);transition:transform .05s ease,box-shadow .05s ease,filter .2s ease}.btn-3d:hover{filter:brightness(1.03)}.btn-3d:active{transform:translateY(2px);box-shadow:0 4px 0 var(--_shadow),0 6px 12px #00000026}.btn-cta{--btn-3d-color: var(--cta);--btn-3d-text: var(--on-cta);background-color:var(--cta);color:var(--on-cta);border-color:color-mix(in oklab,var(--cta),black 12%)}.btn-card{--btn-3d-color: var(--panel);--btn-3d-text: var(--text);background-color:var(--panel);color:var(--text);border-color:var(--border)}.btn-card.btn-3d{box-shadow:0 12px 28px -8px #00000040,0 8px 12px -6px #0000002e}.btn-card.btn-3d:active{box-shadow:0 10px 22px -10px #00000038,0 6px 10px -8px #0000002e}.segmented{display:inline-flex;align-items:center;gap:0;border:1px solid var(--border);border-radius:999px;overflow:hidden}.segmented .seg{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;cursor:pointer;-webkit-user-select:none;user-select:none}.segmented .seg input[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:0;height:0;margin:0}.segmented .seg.selected{background:var(--btn-bg-hover);font-weight:700;border-left:1px solid var(--border);border-right:1px solid var(--border)}.success{color:#10b981;font-size:12px}.form-msg{margin-top:8px;font-size:12px}.toast{position:fixed;left:50%;bottom:16px;transform:translate(-50%);z-index:5000;display:inline-flex;align-items:center;gap:8px;padding:8px 12px;background:var(--panel);color:var(--text);border:1px solid var(--border);border-radius:12px;box-shadow:0 10px 30px #0000002e;font-size:12px}.toast-success{color:#10b981}.context-menu,.context-menu .table{font-size:12px}.field input[type=text],.field input[type=datetime-local],.field select{height:36px}.subject-input{height:36px;width:100%;padding:8px 12px;background:var(--input-bg);color:var(--text);border:1px solid var(--border);border-radius:12px}.datetime-wrapper{position:relative}.datetime-wrapper .datetime-placeholder{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);pointer-events:none;font-size:12px}.datetime-wrapper input.empty::-webkit-datetime-edit,.datetime-wrapper input.empty::-webkit-datetime-edit-year-field,.datetime-wrapper input.empty::-webkit-datetime-edit-month-field,.datetime-wrapper input.empty::-webkit-datetime-edit-day-field,.datetime-wrapper input.empty::-webkit-datetime-edit-hour-field,.datetime-wrapper input.empty::-webkit-datetime-edit-minute-field,.datetime-wrapper input.empty::-webkit-datetime-edit-ampm-field{color:transparent}.compact-form .subject-input,.compact-form .field input[type=text],.compact-form .field select{height:26px;padding:6px 10px}.compact-form .subject-input,.compact-form .field input[type=text],.compact-form .field select{font-size:12px}.compact-form .field{flex-direction:row;align-items:center;gap:8px}.compact-form .field label{min-width:110px;white-space:nowrap;text-align:right}.compact-form .field .subject-input,.compact-form .field input[type=text],.compact-form .field select{flex:1 1 auto}.checkbox-accent{accent-color:var(--accent)}.theme-toggle{position:relative;display:inline-flex;align-items:center;justify-content:flex-start;width:56px;height:28px;padding:0;border:1px solid var(--border);background:var(--panel-2);border-radius:999px;cursor:pointer;transition:background .2s ease,border-color .2s ease,box-shadow .2s ease}.theme-toggle:focus-visible{outline:none;box-shadow:0 0 0 3px #93c5fd73}.theme-toggle .thumb{position:absolute;top:2px;left:2px;width:24px;height:24px;border-radius:999px;background:var(--accent);color:var(--on-accent);display:inline-flex;align-items:center;justify-content:center;transition:transform .2s ease}.theme-toggle .icon{width:14px;height:14px}[data-theme=dark] .theme-toggle .thumb{transform:translate(28px)}.mobile-drawer{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50}.mobile-drawer-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#00000059}.mobile-drawer-panel{position:absolute;top:0;left:0;height:100%;width:85vw;max-width:340px;background:var(--panel);border-right:1px solid var(--border);box-shadow:0 10px 30px #00000059;display:flex;flex-direction:column;animation:slideIn .2s ease}@keyframes slideIn{0%{transform:translate(-12px);opacity:.8}to{transform:translate(0);opacity:1}}@media (max-width: 768px){.page-title{border-radius:0;margin:0;border-left:none;border-right:none}.form-grid{grid-template-columns:1fr}.row-2{grid-column:span 1}.table-container{max-height:50vh}}.compact{font-size:11px}.compact .page-title h2{font-size:12px}.compact .table{font-size:10px}.compact .table th,.compact .table td{padding:3px 5px}.compact .assign-input{height:22px;padding:2px 4px;width:60px}.compact .search-input{height:24px;width:60px;font-size:.6em}.compact .search-input option{font-size:inherit}.compact .btn{padding:3px 6px;font-size:11px}.compact .muted{font-size:10px!important}.compact .form-label,.order-form .field label,.order-form .subject-input{font-size:12px!important}
